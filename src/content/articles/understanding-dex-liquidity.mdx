---
slug: understanding-dex-liquidity
title: "Understanding DEX Liquidity: From V2 to Concentrated Liquidity"
excerpt: "A deep dive into how liquidity works on Decentralized Exchanges like PlunderSwap, comparing the classic V2 model with capital-efficient Concentrated Liquidity."
level: intermediate
tags:
  - defi
  - liquidity
  - plunderswap
  - amm
  - zilliqa
---

Liquidity is the lifeblood of any exchange. On traditional exchanges (like the NYSE or Binance), liquidity is provided by market makers who place buy and sell orders in an order book. In Decentralized Finance (DeFi), we do things differently. We use **Automated Market Makers (AMMs)**.

On Zilliqa 2.0, protocols like **PlunderSwap** empower users to become market makers themselves, earning fees by facilitating trades. But not all liquidity is created equal.

In this guide, we'll explore how AMMs work, the difference between the classic "V2" model and the modern "Concentrated Liquidity" (V3) model, and why Zilliqa 2.0 is the perfect environment for active liquidity management.

## The Basics: Automated Market Makers (AMMs)

Instead of an order book where buyers match with sellers, AMMs use **Liquidity Pools**. A pool is just a smart contract that holds two tokensâ€”let's say **ZIL** and **USDT**.

Traders trade against the pool, not other people. To buy ZIL, you put USDT into the pool and take ZIL out. The price is determined mathematically.

### The Constant Product Formula

The classic formula that powers most AMMs is surprisingly simple:

<div className="text-center text-2xl font-bold my-8 font-mono">
  x * y = k
</div>

*   **x**: Amount of Token A (e.g., ZIL) in the pool
*   **y**: Amount of Token B (e.g., USDT) in the pool
*   **k**: A constant value that must remain unchanged during a trade

When you buy ZIL, you decrease the amount of ZIL in the pool (x goes down). To keep k constant, the amount of USDT (y) must increase. The more you buy, the more expensive each subsequent ZIL becomes.

<div className="my-8 p-6 bg-white/5 dark:bg-black/20 rounded-xl border border-border">
  <h4 className="text-center mb-4 font-semibold">The AMM Price Curve</h4>
  <div className="flex justify-center">
    <svg width="100%" height="300" viewBox="0 0 400 300" className="overflow-visible">
        {/* Axes */}
        <line x1="50" y1="250" x2="350" y2="250" stroke="currentColor" strokeWidth="2" className="text-muted-foreground" />
        <line x1="50" y1="250" x2="50" y2="50" stroke="currentColor" strokeWidth="2" className="text-muted-foreground" />
        <text x="360" y="255" fill="currentColor" className="text-sm font-mono">ZIL Quantity</text>
        <text x="20" y="40" fill="currentColor" className="text-sm font-mono">USDT</text>

        {/* Curve y = 10000/x */}
        <path
            d="M 60 240 Q 100 220 120 150 T 340 60"
            fill="none"
            stroke="currentColor"
            strokeWidth="3"
            className="text-primary"
        />

        {/* Points */}
        <circle cx="120" cy="150" r="6" className="fill-primary" />
        <text x="130" y="145" fill="currentColor" className="text-xs">Current Price</text>
        
        {/* Movement arrows */}
        <path d="M 130 160 L 160 190" stroke="currentColor" strokeWidth="2" markerEnd="url(#amm-arrow)" className="text-muted-foreground opacity-50 dashed" strokeDasharray="4" />
        <defs>
            <marker id="amm-arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                <path d="M0,0 L0,6 L9,3 z" fill="currentColor" className="text-muted-foreground" />
            </marker>
        </defs>
    </svg>
  </div>
  <p className="text-center text-sm text-muted-foreground mt-4">As you move along the curve, the ratio (price) changes.</p>
</div>

## Example: A Trade in Action

Let's walk through a real-world example to see how the pool balances change when a user makes a trade.

**Initial State:**
Imagine a small pool for **ZIL / USDT**.
*   **Pool holds:** 10,000 ZIL (x) and 200 USDT (y).
*   **Constant (k):** 10,000 * 200 = 2,000,000.
*   **Current Price:** 200 / 10,000 = $0.02 per ZIL.

**The Trade:**
A user wants to buy ZIL using **10 USDT**.

1.  **User puts in:** 10 USDT.
2.  **New Pool USDT (y_new):** 200 + 10 = 210 USDT.
3.  **Calculate New ZIL Balance:** To keep k at 2,000,000, we divide k by the new USDT amount.
    <div className="p-4 my-4 bg-muted/50 rounded-lg font-mono text-center">
      x_new = 2,000,000 / 210 = 9,523.81 ZIL
    </div>
4.  **ZIL Sent to User:** The difference between the old balance and new balance.
    <div className="p-4 my-4 bg-muted/50 rounded-lg font-mono text-center">
      10,000 - 9,523.81 = 476.19 ZIL
    </div>

**The Result:**

<table>
  <thead>
    <tr>
      <th>Metric</th>
      <th>Before Trade</th>
      <th>After Trade</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Pool USDT</strong></td>
      <td>200 USDT</td>
      <td>210 USDT (+10)</td>
    </tr>
    <tr>
      <td><strong>Pool ZIL</strong></td>
      <td>10,000 ZIL</td>
      <td>9,523.81 ZIL (-476.19)</td>
    </tr>
    <tr>
      <td><strong>Implied Price</strong></td>
      <td>$0.0200</td>
      <td>$0.02205 (210 / 9523.81)</td>
    </tr>
  </tbody>
</table>

### Price Impact Explained
Even though the starting price was **$0.02**, the user didn't get their ZIL at that price.
*   **User Paid:** 10 USDT.
*   **User Received:** 476.19 ZIL.
*   **Effective Price Paid:** 10 / 476.19 = **$0.021** per ZIL.

The trade itself pushed the price up. This difference between the spot price ($0.02) and the price actually paid ($0.021) is called **Price Impact** or **Slippage**. In this example, the user paid roughly **5% more** than the spot price because the pool was small relative to their trade size.

## V2 Liquidity: The "Lazy" Approach

In the **V2 model** (standard Uniswap V2 / PlunderSwap V2), when you provide liquidity, you provide it across the **entire possible price range**.

Whether the price of ZIL is $0.01 or $1,000,000, your liquidity is there, spread thin.

### How it works
If you deposit \$1,000 worth of ZIL and \$1,000 worth of USDT, the protocol spreads your capital from effectively 0 to infinity.

**The Problem:** Most of your capital is never used. If ZIL is trading at $0.02, the liquidity you provided for the $0.0001 price point or the $500.00 price point is sitting idle, earning zero fees. This is **capital inefficiency**.

<div className="my-8 p-6 bg-white/5 dark:bg-black/20 rounded-xl border border-border">
  <h4 className="text-center mb-4 font-semibold">V2 Liquidity Distribution</h4>
  <div className="flex justify-center">
    <svg width="100%" height="200" viewBox="0 0 400 200">
        <rect x="50" y="150" width="300" height="40" fill="currentColor" className="text-blue-500/30" rx="4" />
        <line x1="50" y1="190" x2="350" y2="190" stroke="currentColor" strokeWidth="2" className="text-muted-foreground" />
        
        {/* Price Marker */}
        <line x1="200" y1="130" x2="200" y2="200" stroke="currentColor" strokeWidth="2" strokeDasharray="4" className="text-red-500" />
        <text x="185" y="120" fill="currentColor" className="text-sm text-red-500 font-semibold">Current Price</text>
        
        <text x="60" y="175" fill="currentColor" className="text-xs opacity-70">$0</text>
        <text x="320" y="175" fill="currentColor" className="text-xs opacity-70">Infinity</text>
    </svg>
  </div>
  <p className="text-center text-sm text-muted-foreground mt-2">Liquidity is spread evenly. Only the tiny slice near the current price earns fees.</p>
</div>

## PlunderSwap V3: Concentrated Liquidity

**Concentrated Liquidity** allows you to choose exactly **where** to put your money. You can say, "I only want to provide liquidity for ZIL when the price is between $0.015 and $0.025."

### Why is this better?

By focusing your capital into a narrower range, you effectively provide **much deeper liquidity** with the same amount of money.

*   **Higher Fees:** Because your liquidity is concentrated where the trading actually happens, you capture a larger share of the trading fees compared to a V2 provider with the same deposit.
*   **Capital Efficiency:** You can achieve the same fee earnings as a V2 position with a fraction of the capital.

<div className="my-8 p-6 bg-white/5 dark:bg-black/20 rounded-xl border border-border">
  <h4 className="text-center mb-4 font-semibold">V3 Concentrated Liquidity</h4>
  <div className="flex justify-center">
    <svg width="100%" height="200" viewBox="0 0 400 200">
        <line x1="50" y1="190" x2="350" y2="190" stroke="currentColor" strokeWidth="2" className="text-muted-foreground" />
        
        {/* V2 Ghost */}
        <rect x="50" y="180" width="300" height="10" fill="currentColor" className="text-blue-500/10" />
        
        {/* V3 Concentration */}
        <rect x="160" y="50" width="80" height="140" fill="currentColor" className="text-green-500/60" rx="4" />
        
        {/* Price Marker */}
        <line x1="200" y1="30" x2="200" y2="200" stroke="currentColor" strokeWidth="2" strokeDasharray="4" className="text-red-500" />
        <text x="185" y="25" fill="currentColor" className="text-sm text-red-500 font-semibold">Current Price</text>
        
        <text x="150" y="210" fill="currentColor" className="text-xs font-mono">Min Price</text>
        <text x="230" y="210" fill="currentColor" className="text-xs font-mono">Max Price</text>
    </svg>
  </div>
  <p className="text-center text-sm text-muted-foreground mt-2">Your capital is stacked tall right where the action is.</p>
</div>

<Callout type="tip">
  **Think of it like this:** 
  
  **V2** is like setting up a lemonade stand that covers every inch of the entire highway. You sell lemonade everywhere, even in the desert where no one is driving.
  
  **V3** is setting up a massive super-store right at the busiest exit. You serve way more customers with less wasted effort.
</Callout>

## Understanding "Ticks"

In PlunderSwap (and other V3 DEXs), the price range is broken down into discrete steps called **Ticks**. When you create a position, you are selecting a Lower Tick and an Upper Tick.

*   **Active Liquidity:** When the current price is *within* your selected ticks, your money is being used, and you are earning fees.
*   **Inactive Liquidity:** If the price moves *outside* your range (e.g., ZIL pumps to $0.03 and your max was $0.025), your position becomes inactive. You stop earning fees, and your position is now composed entirely of the less valuable asset (in this case, USDT, as you "sold" all your ZIL on the way up).

## The V3 Advantage: Lower Slippage

Remember our example where a 10 USDT trade caused a 5% price jump? That happened because the liquidity was spread thin.

In **PlunderSwap V3**, because liquidity is **concentrated** around the current price, the "effective" depth of the pool is much higher.

If we had the same $400 of total capital (200 USDT + 10,000 ZIL) but concentrated it all within a tight range (e.g., $0.019 - $0.021), the pool would behave as if it had **thousands of dollars** of liquidity for trades within that range.

**Revisiting the Trade with V3:**
*   **V2 Price Impact:** ~5%
*   **V3 Price Impact:** ~0.05% (for the same trade size)

For traders, this means **better prices** and **more tokens received**. For liquidity providers, it means your capital is working harder to earn fees.

## Zilliqa 2.0: The Perfect Match for V3

Concentrated liquidity requires management. If the price moves out of your range, you might want to "rebalance" (withdraw and create a new position in the new range).

On Ethereum, rebalancing is painful because gas fees can cost $20-$50. You might lose days of profit just trying to move your position.

**On Zilliqa 2.0:**
1.  **Ultra-Low Fees:** Rebalancing costs pennies. You can optimize your position daily or even hourly without eating into your profits.
2.  **Speed:** Zilliqa 2.0's fast finality means your liquidity updates happen almost instantly.

## Summary: V2 vs. PlunderSwap V3

<table>
  <thead>
    <tr>
      <th>Feature</th>
      <th>V2 (Standard)</th>
      <th>V3 (Concentrated)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Liquidity Range</strong></td>
      <td>0 to Infinity</td>
      <td>Custom Range (User Defined)</td>
    </tr>
    <tr>
      <td><strong>Capital Efficiency</strong></td>
      <td>Low</td>
      <td>Very High (up to 4000x)</td>
    </tr>
    <tr>
      <td><strong>Fee Earnings</strong></td>
      <td>Passive / Lower</td>
      <td>Active / Higher</td>
    </tr>
    <tr>
      <td><strong>Risk (Impermanent Loss)</strong></td>
      <td>Moderate</td>
      <td>Higher (if range is tight)</td>
    </tr>
    <tr>
      <td><strong>Management</strong></td>
      <td>Set and forget</td>
      <td>Active management required</td>
    </tr>
  </tbody>
</table>

PlunderSwap on Zilliqa 2.0 brings the power of professional market making to everyone. By understanding concentrated liquidity, you can put your assets to work far more effectively than ever before.

