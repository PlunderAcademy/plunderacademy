<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 450">
  <defs>
    <linearGradient id="gradA" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4f46e5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#312e81;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="gradB" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ec4899;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#831843;stop-opacity:1" />
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2.5" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22d3ee" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="450" fill="#0f172a" />

  <!-- Grid lines -->
  <g stroke="#1e293b" stroke-width="2">
    <line x1="50" y1="380" x2="750" y2="380" stroke-width="4" /> <!-- X Axis -->
    <line x1="50" y1="280" x2="750" y2="280" stroke-dasharray="5,5" />
    <line x1="50" y1="180" x2="750" y2="180" stroke-dasharray="5,5" />
  </g>

  <!-- Titles -->
  <text x="400" y="50" fill="#e2e8f0" font-family="sans-serif" font-size="24" font-weight="bold" text-anchor="middle">Spatial Arbitrage Mechanics</text>

  <!-- Exchange A Group -->
  <g>
    <text x="200" y="420" fill="#94a3b8" font-family="sans-serif" font-size="16" font-weight="bold" text-anchor="middle">Exchange A</text>
    <text x="200" y="440" fill="#64748b" font-family="sans-serif" font-size="14" text-anchor="middle">Buy Low</text>
    
    <!-- Bar A -->
    <rect id="barA" x="150" y="250" width="100" height="130" fill="url(#gradA)" rx="4">
      <animate attributeName="height" values="130;150;130" dur="4s" repeatCount="indefinite" />
      <animate attributeName="y" values="250;230;250" dur="4s" repeatCount="indefinite" />
    </rect>
    
    <!-- Price Label A -->
    <text x="200" y="240" fill="#ffffff" font-family="monospace" font-size="16" font-weight="bold" text-anchor="middle">
      $3,000
      <animate attributeName="y" values="240;220;240" dur="4s" repeatCount="indefinite" />
    </text>
  </g>

  <!-- Exchange B Group -->
  <g>
    <text x="600" y="420" fill="#94a3b8" font-family="sans-serif" font-size="16" font-weight="bold" text-anchor="middle">Exchange B</text>
    <text x="600" y="440" fill="#64748b" font-family="sans-serif" font-size="14" text-anchor="middle">Sell High</text>

    <!-- Bar B -->
    <rect id="barB" x="550" y="150" width="100" height="230" fill="url(#gradB)" rx="4">
      <animate attributeName="height" values="230;210;230" dur="4s" repeatCount="indefinite" />
      <animate attributeName="y" values="150;170;150" dur="4s" repeatCount="indefinite" />
    </rect>
    
    <!-- Price Label B -->
    <text x="600" y="140" fill="#ffffff" font-family="monospace" font-size="16" font-weight="bold" text-anchor="middle">
      $3,050
      <animate attributeName="y" values="140;160;140" dur="4s" repeatCount="indefinite" />
    </text>
  </g>

  <!-- Arbitrage Flow Animation -->
  <g>
    <!-- Dashed Path Line -->
    <path d="M 250 315 C 350 315, 450 265, 550 265" fill="none" stroke="#334155" stroke-width="2" stroke-dasharray="8,8" />

    <!-- Moving Orb (The Asset) -->
    <circle r="12" fill="#22d3ee" filter="url(#glow)">
      <animateMotion dur="2s" repeatCount="indefinite" path="M 250 315 C 350 315, 450 265, 550 265" calcMode="spline" keySplines="0.4 0 0.2 1" />
      <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" dur="2s" repeatCount="indefinite" />
    </circle>
    
    <!-- Symbol on Orb -->
    <text fill="#000" font-family="sans-serif" font-size="12" font-weight="bold" text-anchor="middle" dy="4">
      ETH
      <animateMotion dur="2s" repeatCount="indefinite" path="M 250 315 C 350 315, 450 265, 550 265" calcMode="spline" keySplines="0.4 0 0.2 1" />
      <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" dur="2s" repeatCount="indefinite" />
    </text>
  </g>

  <!-- Profit Indicator -->
  <g opacity="0">
    <rect x="530" y="80" width="140" height="34" rx="17" fill="#10b981" filter="url(#glow)" />
    <text x="600" y="102" fill="#ffffff" font-family="sans-serif" font-size="14" font-weight="bold" text-anchor="middle">PROFIT: $50</text>
    
    <!-- Fade in when orb arrives -->
    <animate attributeName="opacity" values="0;0;1;1;0" keyTimes="0;0.7;0.8;0.9;1" dur="2s" repeatCount="indefinite" />
    <animateTransform attributeName="transform" type="translate" values="0,10; 0,-10" keyTimes="0;1" dur="2s" repeatCount="indefinite" />
  </g>

</svg>
